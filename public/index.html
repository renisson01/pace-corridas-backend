<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>PACE - O App do Corredor Brasileiro</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  .hero-gradient { background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); }
  .card-hover { transition: all .3s; }
  .card-hover:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0,0,0,.4); }
  .pace-green { color: #22c55e; }
  .animate-pulse-slow { animation: pulse 3s infinite; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
  .fade-in { animation: fadeIn .6s ease forwards; }
</style>
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#22c55e">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="PACE">
<script>if("serviceWorker" in navigator) navigator.serviceWorker.register("/sw.js");</script>
</head>
<body class="bg-slate-950 text-white">

<!-- NAV -->
<nav class="fixed top-0 w-full z-50 bg-slate-950/90 backdrop-blur border-b border-slate-800">
  <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
    <div class="flex items-center gap-2">
      <span class="text-2xl">ğŸƒ</span>
      <span class="font-black text-xl tracking-tight">PACE</span>
      <span class="text-xs bg-green-500 text-black px-2 py-0.5 rounded-full font-bold">BETA</span>
    </div>
    <div class="hidden md:flex gap-6 text-sm text-slate-400">
      <a href="#ranking" class="hover:text-white transition">Ranking</a>
      <a href="#corridas" class="hover:text-white transition">Corridas</a>
      <a href="#features" class="hover:text-white transition">Recursos</a>
    </div>
    <div class="flex gap-2">
      <a href="/social.html" class="bg-green-500 hover:bg-green-400 text-black px-4 py-1.5 rounded-full text-sm font-bold transition">Entrar</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero-gradient min-h-screen flex items-center pt-16">
  <div class="max-w-6xl mx-auto px-4 py-20 text-center fade-in">
    <div class="inline-flex items-center gap-2 bg-green-500/10 border border-green-500/30 rounded-full px-4 py-1.5 mb-6 text-sm text-green-400">
      <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
      Plataforma em funcionamento
    </div>
    <h1 class="text-5xl md:text-7xl font-black mb-6 leading-tight">
      O maior banco de<br>
      <span class="text-green-400">resultados de corrida</span><br>
      do Brasil
    </h1>
    <p class="text-xl text-slate-400 mb-10 max-w-2xl mx-auto">
      Ranking nacional, anÃ¡lise de performance, faixas etÃ¡rias e a rede social do corredor de rua. Tudo em um sÃ³ lugar.
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="/social.html" class="bg-green-500 hover:bg-green-400 text-black px-8 py-4 rounded-full font-bold text-lg transition">
        ğŸƒ Criar minha conta grÃ¡tis
      </a>
      <a href="/resultados.html" class="border border-slate-600 hover:border-green-500 px-8 py-4 rounded-full font-bold text-lg transition">
        ğŸ† Ver ranking nacional
      </a>
    </div>
    <div id="heroStats" class="flex justify-center gap-12 mt-16 text-center"></div>
  </div>
</section>

<!-- RANKING DESTAQUE -->
<section id="ranking" class="py-20 bg-slate-900">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-black mb-3">ğŸ† Ranking Nacional</h2>
      <p class="text-slate-400">Os melhores corredores do Brasil por pontuaÃ§Ã£o</p>
    </div>
    <div class="grid md:grid-cols-2 gap-6 mb-8">
      <div class="bg-slate-800 rounded-2xl p-6">
        <h3 class="font-bold text-lg mb-4 flex items-center gap-2"><span>ğŸ‘¨</span> Top 5 Masculino</h3>
        <div id="rankMasc" class="space-y-3"></div>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6">
        <h3 class="font-bold text-lg mb-4 flex items-center gap-2"><span>ğŸ‘©</span> Top 5 Feminino</h3>
        <div id="rankFem" class="space-y-3"></div>
      </div>
    </div>
    <div class="text-center">
      <a href="/resultados.html" class="bg-slate-800 hover:bg-slate-700 px-6 py-3 rounded-full text-sm font-bold transition">Ver ranking completo â†’</a>
    </div>
  </div>
</section>

<!-- PRÃ“XIMAS CORRIDAS -->
<section id="corridas" class="py-20 bg-slate-950">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-black mb-3">ğŸ“… PrÃ³ximas Corridas</h2>
      <p class="text-slate-400">CalendÃ¡rio completo de corridas de rua no Brasil</p>
    </div>
    <div id="racesGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"></div>
    <div class="text-center">
      <a href="/faixas.html" class="bg-slate-800 hover:bg-slate-700 px-6 py-3 rounded-full text-sm font-bold transition">Ver todas as corridas â†’</a>
    </div>
  </div>
</section>

<!-- FEATURES -->
<section id="features" class="py-20 bg-slate-900">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-black mb-3">Por que o PACE?</h2>
      <p class="text-slate-400">A plataforma completa para o corredor de rua brasileiro</p>
    </div>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">ğŸ†</div>
        <h3 class="font-bold text-xl mb-2">Ranking Nacional</h3>
        <p class="text-slate-400 text-sm">Sistema de pontuaÃ§Ã£o por colocaÃ§Ã£o geral e faixa etÃ¡ria. Veja onde vocÃª estÃ¡ no Brasil.</p>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">â¤ï¸</div>
        <h3 class="font-bold text-xl mb-2">AnÃ¡lise de SaÃºde</h3>
        <p class="text-slate-400 text-sm">EvoluÃ§Ã£o de pace, recordes pessoais e indicadores de risco cardiovascular baseados em performance.</p>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">ğŸ’š</div>
        <h3 class="font-bold text-xl mb-2">Tinder do Corredor</h3>
        <p class="text-slate-400 text-sm">Encontre parceiros de treino na sua cidade. Match por ritmo, distÃ¢ncia e horÃ¡rio.</p>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">ğŸ”</div>
        <h3 class="font-bold text-xl mb-2">Identidade Digital</h3>
        <p class="text-slate-400 text-sm">Chave pÃºblica e privada. Seus dados pertencem a vocÃª. Protocolo aberto como o Bitcoin.</p>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">ğŸ“Š</div>
        <h3 class="font-bold text-xl mb-2">Faixas EtÃ¡rias</h3>
        <p class="text-slate-400 text-sm">Ranking por faixa etÃ¡ria automÃ¡tico. 3 primeiros de cada categoria, masculino e feminino.</p>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 card-hover">
        <div class="text-4xl mb-4">â­</div>
        <h3 class="font-bold text-xl mb-2">Premium</h3>
        <p class="text-slate-400 text-sm">Dashboard completo, comparaÃ§Ã£o com atletas, badges e anÃ¡lise avanÃ§ada de performance.</p>
      </div>
    </div>
  </div>
</section>

<!-- PLANOS -->
<section class="py-20 bg-slate-950">
  <div class="max-w-4xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-black mb-3">Planos</h2>
      <p class="text-slate-400">Simples e transparente</p>
    </div>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bg-slate-800 rounded-2xl p-6 text-center">
        <h3 class="font-bold text-lg mb-2">Corredor</h3>
        <div class="text-4xl font-black text-green-400 mb-1">GrÃ¡tis</div>
        <p class="text-slate-400 text-sm mb-4">Para sempre</p>
        <ul class="text-sm text-slate-300 space-y-2 text-left mb-6">
          <li>âœ… Perfil pÃºblico</li>
          <li>âœ… Ver ranking nacional</li>
          <li>âœ… HistÃ³rico de corridas</li>
          <li>âœ… Parceiros de treino</li>
        </ul>
        <a href="/social.html" class="block bg-green-500 text-black py-2 rounded-full font-bold text-sm">Criar conta</a>
      </div>
      <div class="bg-gradient-to-b from-green-900 to-slate-800 rounded-2xl p-6 text-center border border-green-500">
        <div class="text-xs bg-green-500 text-black px-3 py-1 rounded-full font-bold mb-3 inline-block">MAIS POPULAR</div>
        <h3 class="font-bold text-lg mb-2">Premium</h3>
        <div class="text-4xl font-black text-green-400 mb-1">R$19<span class="text-lg">/mÃªs</span></div>
        <p class="text-slate-400 text-sm mb-4">Cancele quando quiser</p>
        <ul class="text-sm text-slate-300 space-y-2 text-left mb-6">
          <li>âœ… Tudo do grÃ¡tis</li>
          <li>â­ AnÃ¡lise cardÃ­aca</li>
          <li>â­ EvoluÃ§Ã£o de pace</li>
          <li>â­ ComparaÃ§Ãµes</li>
          <li>â­ Badges exclusivos</li>
        </ul>
        <button class="block w-full bg-green-500 text-black py-2 rounded-full font-bold text-sm">Em breve</button>
      </div>
      <div class="bg-slate-800 rounded-2xl p-6 text-center">
        <h3 class="font-bold text-lg mb-2">Organizador</h3>
        <div class="text-4xl font-black text-blue-400 mb-1">R$49<span class="text-lg">/mÃªs</span></div>
        <p class="text-slate-400 text-sm mb-4">Por corrida</p>
        <ul class="text-sm text-slate-300 space-y-2 text-left mb-6">
          <li>âœ… PÃ¡gina da corrida</li>
          <li>âœ… Upload de resultados</li>
          <li>âœ… GestÃ£o de faixas</li>
          <li>âœ… Analytics</li>
        </ul>
        <button class="block w-full bg-blue-500 text-black py-2 rounded-full font-bold text-sm">Em breve</button>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-slate-900 border-t border-slate-800 py-12">
  <div class="max-w-6xl mx-auto px-4 text-center">
    <div class="flex items-center justify-center gap-2 mb-4">
      <span class="text-2xl">ğŸƒ</span>
      <span class="font-black text-xl">PACE</span>
    </div>
    <p class="text-slate-400 text-sm mb-6">O app do corredor de rua brasileiro</p>
    <div class="flex justify-center gap-6 text-sm text-slate-500">
      <a href="/resultados.html" class="hover:text-white">Resultados</a>
      <a href="/faixas.html" class="hover:text-white">Faixas EtÃ¡rias</a>
      <a href="/social.html" class="hover:text-white">Social</a>
      <a href="/scraper.html" class="hover:text-white">Admin</a>
    </div>
    <p class="text-slate-600 text-xs mt-6">Â© 2025 PACE. Feito com â¤ï¸ para o corredor brasileiro.</p>
  </div>
</footer>

<script>
const M = ['ğŸ¥‡','ğŸ¥ˆ','ğŸ¥‰','4Âº','5Âº'];
const STATES = {'SP':'SÃ£o Paulo','RJ':'Rio de Janeiro','SE':'Sergipe','BA':'Bahia','MG':'Minas Gerais','RS':'Rio Grande do Sul','PR':'ParanÃ¡','SC':'Santa Catarina','PE':'Pernambuco','CE':'CearÃ¡','DF':'BrasÃ­lia','MS':'Mato Grosso do Sul'};

async function init() {
  // Stats hero
  try {
    const s = await fetch('/scraper/status').then(r=>r.json());
    document.getElementById('heroStats').innerHTML =
      stat(s.totalRaces,'Corridas cadastradas','ğŸ“…') +
      stat(s.totalResults,'Resultados','ğŸ…') +
      stat(s.athletes,'Atletas','ğŸƒ');
  } catch(e) {}

  // Ranking
  try {
    const [rm, rf] = await Promise.all([
      fetch('/rankings/points?gender=M&limit=5').then(r=>r.json()),
      fetch('/rankings/points?gender=F&limit=5').then(r=>r.json())
    ]);
    renderRank('rankMasc', rm.ranking||[]);
    renderRank('rankFem', rf.ranking||[]);
  } catch(e) {}

  // Corridas
  try {
    const races = await fetch('/races').then(r=>r.json());
    const upcoming = races
      .filter(r=>r.status==='upcoming'||new Date(r.date)>new Date())
      .sort((a,b)=>new Date(a.date)-new Date(b.date))
      .slice(0,6);
    document.getElementById('racesGrid').innerHTML = upcoming.map(r => {
      const d = new Date(r.date);
      const daysLeft = Math.ceil((d-new Date())/(1000*60*60*24));
      return `<div class="bg-slate-800 rounded-2xl p-5 card-hover cursor-pointer" onclick="window.location='/faixas.html'">
        <div class="flex justify-between items-start mb-3">
          <span class="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full">${daysLeft>0?daysLeft+' dias':'Hoje'}
          <\/span>
          <span class="text-xs text-slate-500">${r.state}</span>
        </div>
        <h3 class="font-bold mb-1">${r.name}</h3>
        <p class="text-slate-400 text-sm mb-3">ğŸ“ ${r.city} Â· ${r.distances||'A definir'}</p>
        <div class="flex justify-between items-center">
          <span class="text-xs text-slate-500">${d.toLocaleDateString('pt-BR')}</span>
          ${r.registrationUrl?'<a href="'+r.registrationUrl+'" target="_blank" class="text-xs bg-green-500 text-black px-3 py-1 rounded-full font-bold">Inscrever</a>':'<span class="text-xs text-slate-600">Em breve</span>'}
        </div>
      </div>`;
    }).join('');
  } catch(e) {}
}

function stat(val, label, icon) {
  return `<div><div class="text-4xl font-black text-green-400">${icon} ${(val||0).toLocaleString('pt-BR')}</div><div class="text-slate-400 text-sm mt-1">${label}</div></div>`;
}

function renderRank(elId, ranking) {
  if(!ranking.length) {
    document.getElementById(elId).innerHTML = '<p class="text-slate-500 text-sm">Nenhum dado ainda. Importe resultados!</p>';
    return;
  }
  document.getElementById(elId).innerHTML = ranking.map((r,i) => `
    <div class="flex items-center gap-3 p-3 bg-slate-700/50 rounded-xl">
      <span class="text-xl w-8 text-center">${M[i]}</span>
      <div class="flex-1 min-w-0">
        <p class="font-bold text-sm truncate">${r.athlete?.name||'-'}</p>
        <p class="text-slate-400 text-xs">${r.athlete?.city||''} ${r.athlete?.state?'Â· '+r.athlete?.state:''}</p>
      </div>
      <div class="text-right">
        <p class="font-black text-green-400">${r.pontos}</p>
        <p class="text-xs text-slate-500">pts</p>
      </div>
    </div>
  `).join('');
}

init();
</script>

  <!-- NAV BOTTOM - APP STYLE -->
  <nav class="fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700 flex justify-around py-2 z-50 md:hidden">
    <a href="/" class="flex flex-col items-center text-xs text-green-400 py-1 px-3">
      <span class="text-xl">ğŸ </span><span>InÃ­cio</span>
    </a>
    <a href="/calendario.html" class="flex flex-col items-center text-xs text-slate-400 py-1 px-3">
      <span class="text-xl">ğŸ“…</span><span>Corridas</span>
    </a>
    <a href="/pacematch.html" class="flex flex-col items-center text-xs text-slate-400 py-1 px-3">
      <span class="text-xl">ğŸ’š</span><span>PaceMatch</span>
    </a>
    <a href="/resultados.html" class="flex flex-col items-center text-xs text-slate-400 py-1 px-3">
      <span class="text-xl">ğŸ†</span><span>Ranking</span>
    </a>
    <a href="/perfil.html" class="flex flex-col items-center text-xs text-slate-400 py-1 px-3">
      <span class="text-xl">ğŸ‘¤</span><span>Perfil</span>
    </a>
  </nav>
  <div class="h-16 md:hidden"></div>
</body>
</html>